@model dynamic
@using Umbraco.Web.Templates

@if (Model.value != null)
{
  var url = Model.value.image;
  var urlName = url.ToString();
  string result = System.IO.Path.GetFileNameWithoutExtension(urlName);
  if (Model.editor.config != null && Model.editor.config.size != null)
  {
    url += "?width=" + Model.editor.config.size.width;
    url += "&height=" + Model.editor.config.size.height;

    if (Model.value.focalPoint != null)
    {
      url += "&center=" + Model.value.focalPoint.top + "," + Model.value.focalPoint.left;
      url += "&mode=crop";
    }
  }
    <img src="@url" class="img-responsive" alt="@result">

  // if (Model.value.caption != null)
  //{
  //    <p class="caption">@Model.value.caption</p>
  // }
}
