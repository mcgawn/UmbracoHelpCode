function getScript(a, b) { var c = document.createElement("script"); c.type = "text/javascript", c.async = !0, c.src = a; var d = document.getElementsByTagName("head")[0], e = !1; c.onload = c.onreadystatechange = function () { e || this.readyState && "loaded" != this.readyState && "complete" != this.readyState || (e = !0, "undefined" != typeof b && b(), c.onload = c.onreadystatechange = null, d.removeChild(c)) }, d.appendChild(c) } function OnErrorCall(a) { alert(a.status + " " + a.statusText), console.log(a) } getScript("https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js", function () { function a() { var a = document.URL.split("?")[0], b = $("#smartSearchInput").val(); "" != b ? $("#postPageBody").length > 0 ? window.location = a.substr(0, a.lastIndexOf("/")) + "?q=" + b : window.location = a + "?q=" + b : alert("Please provide a search term.") } getScript("https://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/jquery.validate.min.js"), $(".smartArchive").length > 0 && $(".smartArchive a").on("click", function (a) { var b = $(this), c = $(b.parent()), d = c.children("ul"); d.length > 0 && (a.preventDefault(), c.hasClass("open") ? (c.removeClass("open"), d.hide()) : (c.addClass("open"), d.show())) }), getScript("https://connect.facebook.net/en_US/all.js", function () { function a() { FB.getLoginStatus(function (a) { console.log("Welcome!  Fetching your information.... "), FB.api("/me", function (a) { console.log("Good to see you, " + a.name + ".") }), "connected" === a.status ? FB.api("me?fields=name,email,website", function (a) { null != a && (console.log("You've already provided authorisation to this website"), $("#commentName").val(a.name), $("#commentEmail").val(a.email), $("#commentWebsite").val(a.website)) }) : "not_authorized" === a.status ? console.log("Looks like you've not provided access to this application") : FB.login(function (a) { a.authResponse ? a.authResponse.accessToken && FB.api("me?fields=name,email,website", function (a) { null != a && ($("#commentName").val(a.name), $("#commentEmail").val(a.email), $("#commentWebsite").val(a.website)) }) : alert("You need to log in and authorise this website before you can autofill the form.") }, { scope: "email,user_website" }) }, !0) } FB.init({ appId: "374162762699021", status: !0, xfbml: !0, oauth: !0 }), $("#facebookButton").length > 0 && $("#facebookButton").click(function (b) { b.preventDefault(), a() }) }), $("#smartBlogSearchForm").on("submit", function (b) { b.preventDefault(), a() }) });